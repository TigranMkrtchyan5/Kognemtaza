<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Approved Posts</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body {font-family: 'Roboto', sans-serif; background: #1b1b1b; color: #eee; margin:0; padding:0;}
header {background: linear-gradient(90deg, #bfa54a, #6aa84f); padding:20px; color:#fff; text-align:center; font-size:32px; font-weight:bold;}
header a {margin-left:20px; text-decoration:none; color:#fff; background:#6a1b9a; padding:10px 16px; border-radius:8px; transition:0.3s;}
header a:hover {opacity:0.85;}
main {padding:30px;}
h2 {color:#bfa54a; margin-top:40px; font-size:24px; border-bottom:2px solid #6aa84f; display:inline-block; padding-bottom:5px;}
table {width:100%; border-collapse:collapse; margin-top:20px; background:#222; border-radius:8px; overflow:hidden;}
th, td {padding:12px; text-align:left; border-bottom:1px solid #444;}
th {background-color:#6aa84f; color:#fff;}
tr:nth-child(even) {background-color:#1f1f1f;}
img {border-radius:6px; max-width:80px; max-height:80px;}
</style>
</head>
<body>

<header>
    Approved Posts
    <a href="{% url 'admin_dashboard' %}">Back to Dashboard</a>
</header>

<main>
<h2>All Approved Posts</h2>

{% if posts %}
<table>
<tr>
    <th>ID</th>
    <th>Title</th>
    <th>User</th>
    <th>Image</th>
    <th>Description</th>
    <th>Location</th>
    <th>Price</th>
    <th>Status</th>
</tr>
{% for post in posts %}
<tr>
    <td>{{ post.id }}</td>
    <td>{{ post.title }}</td>
    <td>{{ post.user.username }}</td>
    <td>{% if post.image %}<img src="{{ post.image.url }}" alt="{{ post.title }}">{% endif %}</td>
    <td>{{ post.description }}</td>
    <td>{{ post.location }}</td>
    <td>{{ post.price }}</td>
    <td>{{ post.status|capfirst }}</td>
</tr>
{% endfor %}
</table>
{% else %}
<p style="color:#bfa54a;">No approved posts available.</p>
{% endif %}

</main>
</body>
</html>
